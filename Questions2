Database = MariaDB

SELECT p.ID AS POND_ID, COUNT(c.D_ID) AS HAPPY_DUCKS FROM ponds p 
LEFT JOIN
(SELECT p.ID AS P_ID, d.ID AS D_ID FROM ducks d 
JOIN species s ON d.SPECIES_ID = s.ID 
JOIN ponds p ON d.POND_ID = p.ID
WHERE (s.TEMP_PREFERENCES = '+' AND p.TEMPERATURE >= s.TEMP_LIMIT) 
OR (s.TEMP_PREFERENCES = '-' AND p.TEMPERATURE <= s.TEMP_LIMIT)) AS c ON c.P_ID = p.ID
GROUP BY p.ID
ORDER BY p.ID
